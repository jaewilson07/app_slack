{"version":3,"sources":["state/state-provider.js","components/header/Header.component.jsx","firestore/firbase-utils.js","components/sidebar-option/Sidebar-option.component.jsx","components/sidebar/Sidebar.component.jsx","components/chat-message/chat-message.component.jsx","components/chat-input/chat-input.component.jsx","components/chat/Chat.component.jsx","state/reducer.js","components/login/login.component.jsx","App.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","Header","currentUser","className","Avatar","alt","userName","src","userImage","type","placeholder","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","provider","GoogleAuthProvider","addScope","SidebarOption","id","Icon","title","addChannelOption","history","useHistory","onClick","channelName","prompt","collection","add","name","push","options","icon","InsertCommentIcon","InboxIcon","DraftsIcon","BookmarkBorderIcon","PeopleAltIcon","AppsIcon","FileCopyIcon","ExpandLessIcon","Sidebar","useState","channels","setChannels","useEffect","onSnapshot","snapshot","docs","map","doc","data","index","key","ExpandMoreIcon","channel","AddIcon","ChatMessage","message","timestamp","user","Date","toDate","toUTCString","ChatInput","channelId","input","setInput","onChange","event","target","onKeyPress","which","shiftKey","preventDefault","console","log","FieldValue","serverTimestamp","sendMessage","Chat","roomId","useParams","roomDetails","setRoomDetails","roomMessages","setRoomMessages","orderBy","actionTypes","Login","dispatch","signIn","a","signInWithPopup","result","payload","displayName","email","uid","photoURL","Button","App","path","window","addEventListener","innerHeight","document","querySelector","style","setProperty","ReactDOM","render","StrictMode","state","action","getElementById"],"mappings":"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","file":"static/js/main.e7b91469.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\r\n\r\nexport const StateContext = createContext();\r\n\r\n//receive from index.js\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n);\r\n\r\n// extract elements from the state object\r\nexport const useStateValue = () => useContext(StateContext);\r\n","import React from 'react';\r\n\r\nimport './Header.styles.scss';\r\n\r\nimport { Avatar } from '@material-ui/core';\r\nimport AccessTimeIcon from '@material-ui/icons/AccessTime';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline';\r\nimport { useStateValue } from '../../state/state-provider';\r\n\r\nfunction Header() {\r\n  const [{ currentUser }, dispatch] = useStateValue();\r\n\r\n  return (\r\n    <div className=\"header\">\r\n      <div className=\"header__left\">\r\n        <Avatar\r\n          className=\"header__avatar\"\r\n          alt={currentUser?.userName}\r\n          src={currentUser?.userImage}\r\n        />\r\n\r\n        <AccessTimeIcon />\r\n      </div>\r\n      <div className=\"header__search\">\r\n        <SearchIcon />\r\n        <input\r\n          type=\"text\"\r\n          className=\"header__search_input\"\r\n          placeholder=\"Search Me\"\r\n        />\r\n      </div>\r\n      <div className=\"header__right\">\r\n        <HelpOutlineIcon />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyC7_JJeyj3H7wAnF-hEiM2j2dGm4fErL44',\r\n  authDomain: 'app-slack-44e1f.firebaseapp.com',\r\n  databaseURL: 'https://app-slack-44e1f.firebaseio.com',\r\n  projectId: 'app-slack-44e1f',\r\n  storageBucket: 'app-slack-44e1f.appspot.com',\r\n  messagingSenderId: '1078000380944',\r\n  appId: '1:1078000380944:web:b8f9af8459d356b0c92e95',\r\n  measurementId: 'G-GS6DHRD8DS',\r\n};\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst db = firebaseApp.firestore();\r\n\r\nexport const auth = firebase.auth();\r\nexport const provider = new firebase.auth.GoogleAuthProvider();\r\nprovider.addScope('https://www.googleapis.com/auth/userinfo.profile');\r\n\r\nexport default db;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport './Sidebar-option.styles.scss';\r\nimport db from '../../firestore/firbase-utils';\r\n\r\nfunction SidebarOption({ id, Icon, title, addChannelOption }) {\r\n  const history = useHistory();\r\n\r\n  const selectChannel = () => {\r\n    if (id) {\r\n      history.push(`/room/${id}`);\r\n    } else {\r\n      history.push(title);\r\n    }\r\n  };\r\n\r\n  const addChannel = () => {\r\n    const channelName = prompt('Please enter the channel name');\r\n    if (channelName) {\r\n      db.collection('rooms').add({\r\n        name: channelName,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"sidebarOption\"\r\n      onClick={addChannelOption ? addChannel : selectChannel}\r\n    >\r\n      {Icon && <Icon className=\"sidebarOption__icon\" />}\r\n      {Icon ? (\r\n        <h3>{title}</h3>\r\n      ) : (\r\n        <h3 className=\"sidebarOption__channel\">\r\n          <span className=\"sidebarOption__hash\">#</span>\r\n          {title}\r\n        </h3>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SidebarOption;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport db from '../../firestore/firbase-utils';\r\n\r\nimport './Sidebar.styles.scss';\r\n\r\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport InsertCommentIcon from '@material-ui/icons/InsertComment';\r\nimport InboxIcon from '@material-ui/icons/Inbox';\r\nimport DraftsIcon from '@material-ui/icons/Drafts';\r\nimport BookmarkBorderIcon from '@material-ui/icons/BookmarkBorder';\r\nimport PeopleAltIcon from '@material-ui/icons/PeopleAlt';\r\nimport AppsIcon from '@material-ui/icons/Apps';\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nimport SidebarOption from '../sidebar-option/Sidebar-option.component';\r\nimport { useStateValue } from '../../state/state-provider';\r\n\r\nconst options = [\r\n  {\r\n    icon: InsertCommentIcon,\r\n    title: 'Threads',\r\n  },\r\n  { icon: InboxIcon, title: 'Mentions & Reactions' },\r\n  { icon: DraftsIcon, title: 'Saved Items' },\r\n  { icon: BookmarkBorderIcon, title: 'Channel Browser' },\r\n  { icon: PeopleAltIcon, title: 'People & User Groups' },\r\n  { icon: AppsIcon, title: 'Apps' },\r\n  { icon: FileCopyIcon, title: 'File Browser' },\r\n  { icon: ExpandLessIcon, title: 'Show Less' },\r\n];\r\n\r\nfunction Sidebar() {\r\n  const [{ currentUser }, dispatch] = useStateValue();\r\n  const [channels, setChannels] = useState([]);\r\n\r\n  useEffect(() => {\r\n    //run this code once when the sidebar loads\r\n\r\n    db.collection('rooms').onSnapshot((snapshot) =>\r\n      setChannels(\r\n        snapshot.docs.map((doc) => ({\r\n          id: doc.id,\r\n          name: doc.data().name,\r\n        }))\r\n      )\r\n    );\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <div className=\"sidebar__top\">\r\n        <div className=\"sidebar__top_info\">\r\n          <div className=\"sidebar__top_info_workspace\">\r\n            <span>Abandoned in London</span>\r\n            <CreateIcon />\r\n          </div>\r\n\r\n          <div className=\"sidebar__top_info_userstatus\">\r\n            <FiberManualRecordIcon />\r\n            <span>{currentUser?.userName}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* sidebar areas */}\r\n      <div className=\"sidebar__areas\">\r\n        {options.map(({ icon, title }, index) => (\r\n          <SidebarOption key={index} title={title} Icon={icon} />\r\n        ))}\r\n      </div>\r\n\r\n      {/* list of channels */}\r\n      <div className=\"sidebar__channels_list\">\r\n        <hr />\r\n        <SidebarOption title=\"Channels\" Icon={ExpandMoreIcon} />\r\n        <hr />\r\n\r\n        {channels.map((channel) => (\r\n          <SidebarOption\r\n            title={channel.name}\r\n            key={channel.id}\r\n            id={channel.id}\r\n          />\r\n        ))}\r\n\r\n        <SidebarOption\r\n          title=\"Add Chanel\"\r\n          Icon={AddIcon}\r\n          addChannelOption={true}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sidebar;\r\n","import React from 'react';\r\n\r\nimport './chat-message.styles.scss';\r\n\r\nfunction ChatMessage({ message, timestamp, user, userImage }) {\r\n  return (\r\n    <div className=\"message\">\r\n      <img src={userImage} alt=\"user\" />\r\n      <div className=\"message__info\">\r\n        <h4>\r\n          {user}{' '}\r\n          <span className=\"message__timestamp\">\r\n            {new Date(timestamp?.toDate()).toUTCString()}\r\n          </span>\r\n        </h4>\r\n\r\n        <p>{message}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatMessage;\r\n","import React, { useState } from 'react';\r\nimport firebase from 'firebase';\r\n\r\nimport { useStateValue } from '../../state/state-provider';\r\nimport db from '../../firestore/firbase-utils';\r\n\r\nimport './chat-input.styles.scss';\r\n\r\nfunction ChatInput({ channelName, channelId }) {\r\n  const [input, setInput] = useState('');\r\n  const [{ currentUser }] = useStateValue();\r\n\r\n  const sendMessage = (event) => {\r\n    event.preventDefault();\r\n    console.log(channelName, channelId);\r\n\r\n    if (channelId) {\r\n      db.collection('rooms').doc(channelId).collection('messages').add({\r\n        message: input,\r\n        timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n        user: currentUser.userName,\r\n        userImage: currentUser.userImage,\r\n      });\r\n      setInput('');\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"chat__input\">\r\n      <form>\r\n        <div className=\"chat__text\">\r\n          <textarea\r\n            value={input}\r\n            onChange={(event) => setInput(event.target.value)}\r\n            onKeyPress={(event) => {\r\n              if (event.which === 13 && !event.shiftKey) {\r\n                sendMessage(event);\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatInput;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport './Chat.styles.scss';\r\n\r\nimport StarBorderOutlinedIcon from '@material-ui/icons/StarBorderOutlined';\r\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\r\n\r\nimport db from '../../firestore/firbase-utils';\r\nimport ChatMessage from '../chat-message/chat-message.component';\r\nimport ChatInput from '../chat-input/chat-input.component';\r\n\r\nfunction Chat() {\r\n  const { roomId } = useParams();\r\n\r\n  const [roomDetails, setRoomDetails] = useState(null);\r\n  const [roomMessages, setRoomMessages] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (roomId) {\r\n      db.collection('rooms')\r\n        .doc(roomId)\r\n        .onSnapshot((snapshot) => {\r\n          const roomDetails = snapshot.data();\r\n          if (roomDetails) {\r\n            setRoomDetails(roomDetails);\r\n          } else {\r\n            setRoomDetails({ name: roomId });\r\n          }\r\n        });\r\n\r\n      db.collection('rooms')\r\n        .doc(roomId)\r\n        .collection('messages')\r\n        .orderBy('timestamp', 'asc')\r\n        .onSnapshot((snapshot) =>\r\n          setRoomMessages(snapshot.docs.map((doc) => doc.data()))\r\n        );\r\n    }\r\n  }, [roomId]);\r\n\r\n  return (\r\n    <div className=\"chat\">\r\n      <div className=\"chat__header\">\r\n        <div className=\"chat__header_left\">\r\n          <h4 className=\"chat__channel_name\">\r\n            <strong>{`#${roomDetails?.name}`}</strong>\r\n            <StarBorderOutlinedIcon />\r\n          </h4>\r\n        </div>\r\n        <div className=\"chat__header_right\">\r\n          <p>\r\n            <InfoOutlinedIcon /> Details\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"chat__messages\">\r\n        {roomMessages?.map(({ message, timestamp, user, userImage }, index) => (\r\n          <ChatMessage\r\n            key={index}\r\n            message={message}\r\n            timestamp={timestamp}\r\n            user={user}\r\n            userImage={userImage}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"chat__bottom\">\r\n        <ChatInput channelName={roomDetails?.name} channelId={roomId} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n","export const initialState = {\r\n  currentUser: null,\r\n};\r\n\r\nexport const actionTypes = {\r\n  SET_USER: 'SET_USER',\r\n};\r\n\r\nexport const reducer = (state, action) => {\r\n  console.log(action);\r\n\r\n  switch (action.type) {\r\n    case actionTypes.SET_USER:\r\n      return {\r\n        ...state,\r\n        currentUser: action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from 'react';\r\n\r\nimport { useStateValue } from '../../state/state-provider';\r\nimport { provider, auth } from '../../firestore/firbase-utils';\r\n\r\nimport './login.styles.scss';\r\nimport { Button } from '@material-ui/core';\r\nimport { actionTypes } from '../../state/reducer';\r\n\r\nfunction Login() {\r\n  const [state, dispatch] = useStateValue();\r\n\r\n  const signIn = async (event) => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const result = await auth.signInWithPopup(provider);\r\n\r\n      dispatch({\r\n        type: actionTypes.SET_USER,\r\n        payload: {\r\n          userName: result.user.displayName,\r\n          email: result.user.email,\r\n          uid: result.user.uid,\r\n          userImage: result.user.photoURL,\r\n        },\r\n      });\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"login\">\r\n      <div className=\"login__container\">\r\n        <img\r\n          src=\"https://cdn.mos.cms.futurecdn.net/SDDw7CnuoUGax6x9mTo7dd.jpg\"\r\n          alt=\"\"\r\n          className=\"login__logo\"\r\n        />\r\n        <div>\r\n          <h1>Sign in to My Clone</h1>\r\n          <p>abandonedInLondon.slack.com</p>\r\n        </div>\r\n        <Button className=\"login__button_google\" onClick={signIn}>\r\n          Sign In With Google\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\n\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport { useStateValue } from './state/state-provider';\n\nimport './App.scss';\nimport Header from './components/header/Header.component';\nimport Sidebar from './components/sidebar/Sidebar.component';\nimport Chat from './components/chat/Chat.component';\nimport Login from './components/login/login.component';\n\nfunction App() {\n  const [{ currentUser }, dispatch] = useStateValue();\n\n  return (\n    <Router>\n      <div className=\"root\">\n        {!currentUser ? (\n          <Login />\n        ) : (\n          <div className=\"app\">\n            <div className=\"app__header\">\n              <Header />\n            </div>\n            <div className=\"app__body\">\n              <Sidebar />\n\n              <Switch>\n                <Route path=\"/room/:roomId\">\n                  <Chat />\n                </Route>\n                <Route path=\"/\">\n                  <h1>Welcome</h1>\n                </Route>\n              </Switch>\n            </div>\n          </div>\n        )}\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.scss';\nimport App from './App';\nimport { StateProvider } from './state/state-provider';\nimport { initialState, reducer } from './state/reducer';\n\nwindow.addEventListener('resize', () => {\n  console.log(window.innerHeight);\n  document\n    .querySelector(':root')\n    .style.setProperty('--vh', window.innerHeight / 100 + 'px');\n  console.log('set size', window.innerHeight);\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n"],"sourceRoot":""}