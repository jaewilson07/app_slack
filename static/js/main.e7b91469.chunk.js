(this.webpackJsonpapp_spotify_clever=this.webpackJsonpapp_spotify_clever||[]).push([[0],{100:function(e,a,t){},101:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(24),l=t.n(c),s=(t(76),t(13)),o=t(31),i=t(4),m=Object(n.createContext)(),u=function(e){var a=e.reducer,t=e.initialState,c=e.children;return r.a.createElement(m.Provider,{value:Object(n.useReducer)(a,t)},c)},d=function(){return Object(n.useContext)(m)},p=(t(77),t(78),t(115)),h=t(49),E=t.n(h),v=t(50),f=t.n(v),_=t(51),g=t.n(_);var b=function(){var e=d(),a=Object(s.a)(e,2),t=a[0].currentUser;return a[1],r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header__left"},r.a.createElement(p.a,{className:"header__avatar",alt:null===t||void 0===t?void 0:t.userName,src:null===t||void 0===t?void 0:t.userImage}),r.a.createElement(E.a,null)),r.a.createElement("div",{className:"header__search"},r.a.createElement(f.a,null),r.a.createElement("input",{type:"text",className:"header__search_input",placeholder:"Search Me"})),r.a.createElement("div",{className:"header__right"},r.a.createElement(g.a,null)))},N=t(34),O=t.n(N),j=(t(83),t(84),O.a.initializeApp({apiKey:"AIzaSyC7_JJeyj3H7wAnF-hEiM2j2dGm4fErL44",authDomain:"app-slack-44e1f.firebaseapp.com",databaseURL:"https://app-slack-44e1f.firebaseio.com",projectId:"app-slack-44e1f",storageBucket:"app-slack-44e1f.appspot.com",messagingSenderId:"1078000380944",appId:"1:1078000380944:web:b8f9af8459d356b0c92e95",measurementId:"G-GS6DHRD8DS"}).firestore()),w=O.a.auth(),I=new O.a.auth.GoogleAuthProvider;I.addScope("https://www.googleapis.com/auth/userinfo.profile");var S=j,y=(t(86),t(61)),k=t.n(y),C=t(60),x=t.n(C),U=t(52),D=t.n(U),A=t(53),G=t.n(A),L=t(54),P=t.n(L),R=t(55),B=t.n(R),H=t(56),M=t.n(H),T=t(57),z=t.n(T),J=t(58),F=t.n(J),K=t(59),W=t.n(K),q=t(62),V=t.n(q),Q=t(63),X=t.n(Q);t(87);var Y=function(e){var a=e.id,t=e.Icon,n=e.title,c=e.addChannelOption,l=Object(i.f)();return r.a.createElement("div",{className:"sidebarOption",onClick:c?function(){var e=prompt("Please enter the channel name");e&&S.collection("rooms").add({name:e})}:function(){a?l.push("/room/".concat(a)):l.push(n)}},t&&r.a.createElement(t,{className:"sidebarOption__icon"}),t?r.a.createElement("h3",null,n):r.a.createElement("h3",{className:"sidebarOption__channel"},r.a.createElement("span",{className:"sidebarOption__hash"},"#"),n))},Z=[{icon:D.a,title:"Threads"},{icon:G.a,title:"Mentions & Reactions"},{icon:P.a,title:"Saved Items"},{icon:B.a,title:"Channel Browser"},{icon:M.a,title:"People & User Groups"},{icon:z.a,title:"Apps"},{icon:F.a,title:"File Browser"},{icon:W.a,title:"Show Less"}];var $=function(){var e=d(),a=Object(s.a)(e,2),t=a[0].currentUser,c=(a[1],Object(n.useState)([])),l=Object(s.a)(c,2),o=l[0],i=l[1];return Object(n.useEffect)((function(){S.collection("rooms").onSnapshot((function(e){return i(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),r.a.createElement("div",{className:"sidebar"},r.a.createElement("div",{className:"sidebar__top"},r.a.createElement("div",{className:"sidebar__top_info"},r.a.createElement("div",{className:"sidebar__top_info_workspace"},r.a.createElement("span",null,"Abandoned in London"),r.a.createElement(x.a,null)),r.a.createElement("div",{className:"sidebar__top_info_userstatus"},r.a.createElement(k.a,null),r.a.createElement("span",null,null===t||void 0===t?void 0:t.userName)))),r.a.createElement("div",{className:"sidebar__areas"},Z.map((function(e,a){var t=e.icon,n=e.title;return r.a.createElement(Y,{key:a,title:n,Icon:t})}))),r.a.createElement("div",{className:"sidebar__channels_list"},r.a.createElement("hr",null),r.a.createElement(Y,{title:"Channels",Icon:V.a}),r.a.createElement("hr",null),o.map((function(e){return r.a.createElement(Y,{title:e.name,key:e.id,id:e.id})})),r.a.createElement(Y,{title:"Add Chanel",Icon:X.a,addChannelOption:!0})))},ee=(t(89),t(65)),ae=t.n(ee),te=t(66),ne=t.n(te);t(90);var re=function(e){var a=e.message,t=e.timestamp,n=e.user,c=e.userImage;return r.a.createElement("div",{className:"message"},r.a.createElement("img",{src:c,alt:"user"}),r.a.createElement("div",{className:"message__info"},r.a.createElement("h4",null,n," ",r.a.createElement("span",{className:"message__timestamp"},new Date(null===t||void 0===t?void 0:t.toDate()).toUTCString())),r.a.createElement("p",null,a)))},ce=t(64),le=t.n(ce);t(98);var se=function(e){var a=e.channelName,t=e.channelId,c=Object(n.useState)(""),l=Object(s.a)(c,2),o=l[0],i=l[1],m=d(),u=Object(s.a)(m,1)[0].currentUser;return r.a.createElement("div",{className:"chat__input"},r.a.createElement("form",null,r.a.createElement("div",{className:"chat__text"},r.a.createElement("textarea",{value:o,onChange:function(e){return i(e.target.value)},onKeyPress:function(e){13!==e.which||e.shiftKey||function(e){e.preventDefault(),console.log(a,t),t&&(S.collection("rooms").doc(t).collection("messages").add({message:o,timestamp:le.a.firestore.FieldValue.serverTimestamp(),user:u.userName,userImage:u.userImage}),i(""))}(e)}}))))};var oe=function(){var e=Object(i.g)().roomId,a=Object(n.useState)(null),t=Object(s.a)(a,2),c=t[0],l=t[1],o=Object(n.useState)(null),m=Object(s.a)(o,2),u=m[0],d=m[1];return Object(n.useEffect)((function(){e&&(S.collection("rooms").doc(e).onSnapshot((function(a){var t=a.data();l(t||{name:e})})),S.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return d(e.docs.map((function(e){return e.data()})))})))}),[e]),r.a.createElement("div",{className:"chat"},r.a.createElement("div",{className:"chat__header"},r.a.createElement("div",{className:"chat__header_left"},r.a.createElement("h4",{className:"chat__channel_name"},r.a.createElement("strong",null,"#".concat(null===c||void 0===c?void 0:c.name)),r.a.createElement(ae.a,null))),r.a.createElement("div",{className:"chat__header_right"},r.a.createElement("p",null,r.a.createElement(ne.a,null)," Details"))),r.a.createElement("div",{className:"chat__messages"},null===u||void 0===u?void 0:u.map((function(e,a){var t=e.message,n=e.timestamp,c=e.user,l=e.userImage;return r.a.createElement(re,{key:a,message:t,timestamp:n,user:c,userImage:l})}))),r.a.createElement("div",{className:"chat__bottom"},r.a.createElement(se,{channelName:null===c||void 0===c?void 0:c.name,channelId:e})))},ie=t(37),me=t.n(ie),ue=t(67),de=(t(100),t(114)),pe=t(38),he="SET_USER";var Ee=function(){var e=d(),a=Object(s.a)(e,2),t=(a[0],a[1]),n=function(){var e=Object(ue.a)(me.a.mark((function e(a){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,w.signInWithPopup(I);case 4:n=e.sent,t({type:he,payload:{userName:n.user.displayName,email:n.user.email,uid:n.user.uid,userImage:n.user.photoURL}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login__container"},r.a.createElement("img",{src:"https://cdn.mos.cms.futurecdn.net/SDDw7CnuoUGax6x9mTo7dd.jpg",alt:"",className:"login__logo"}),r.a.createElement("div",null,r.a.createElement("h1",null,"Sign in to My Clone"),r.a.createElement("p",null,"abandonedInLondon.slack.com")),r.a.createElement(de.a,{className:"login__button_google",onClick:n},"Sign In With Google")))};var ve=function(){var e=d(),a=Object(s.a)(e,2),t=a[0].currentUser;return a[1],r.a.createElement(o.a,null,r.a.createElement("div",{className:"root"},t?r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"app__header"},r.a.createElement(b,null)),r.a.createElement("div",{className:"app__body"},r.a.createElement($,null),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/room/:roomId"},r.a.createElement(oe,null)),r.a.createElement(i.a,{path:"/"},r.a.createElement("h1",null,"Welcome"))))):r.a.createElement(Ee,null)))};window.addEventListener("resize",(function(){console.log(window.innerHeight),document.querySelector(":root").style.setProperty("--vh",window.innerHeight/100+"px"),console.log("set size",window.innerHeight)})),l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u,{initialState:{currentUser:null},reducer:function(e,a){switch(console.log(a),a.type){case he:return Object(pe.a)(Object(pe.a)({},e),{},{currentUser:a.payload});default:return e}}},r.a.createElement(ve,null))),document.getElementById("root"))},71:function(e,a,t){e.exports=t(101)},76:function(e,a,t){},77:function(e,a,t){},78:function(e,a,t){},86:function(e,a,t){},87:function(e,a,t){},89:function(e,a,t){},90:function(e,a,t){},98:function(e,a,t){}},[[71,1,2]]]);
//# sourceMappingURL=main.e7b91469.chunk.js.map